{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport { useLogger } from './contexts';\nimport { useTimeout } from './hooks';\nimport { noop } from './utils/func';\nimport { mergeIfDefined } from './utils/obj';\nexport var DEFAULT_DATA = {\n  text1: undefined,\n  text2: undefined\n};\nexport var DEFAULT_OPTIONS = {\n  type: 'success',\n  text1Style: null,\n  text2Style: null,\n  position: 'top',\n  autoHide: true,\n  swipeable: true,\n  visibilityTime: 4000,\n  topOffset: 40,\n  bottomOffset: 40,\n  keyboardOffset: 10,\n  onShow: noop,\n  onHide: noop,\n  onPress: noop,\n  props: {}\n};\nexport function useToast(_ref) {\n  var defaultOptions = _ref.defaultOptions;\n  var _useLogger = useLogger(),\n    log = _useLogger.log;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isVisible = _React$useState2[0],\n    setIsVisible = _React$useState2[1];\n  var _React$useState3 = React.useState(DEFAULT_DATA),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    data = _React$useState4[0],\n    setData = _React$useState4[1];\n  var initialOptions = mergeIfDefined(DEFAULT_OPTIONS, defaultOptions);\n  var _React$useState5 = React.useState(initialOptions),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    options = _React$useState6[0],\n    setOptions = _React$useState6[1];\n  var onAutoHide = React.useCallback(function () {\n    log('Auto hiding');\n    setIsVisible(false);\n    options.onHide();\n  }, [log, options]);\n  var _useTimeout = useTimeout(onAutoHide, options.visibilityTime),\n    startTimer = _useTimeout.startTimer,\n    clearTimer = _useTimeout.clearTimer;\n  var hide = React.useCallback(function () {\n    log('Hiding');\n    setIsVisible(false);\n    clearTimer();\n    options.onHide();\n  }, [clearTimer, log, options]);\n  var show = React.useCallback(function (params) {\n    log(`Showing with params: ${JSON.stringify(params)}`);\n    var _params$text = params.text1,\n      text1 = _params$text === void 0 ? DEFAULT_DATA.text1 : _params$text,\n      _params$text2 = params.text2,\n      text2 = _params$text2 === void 0 ? DEFAULT_DATA.text2 : _params$text2,\n      _params$type = params.type,\n      type = _params$type === void 0 ? initialOptions.type : _params$type,\n      _params$text1Style = params.text1Style,\n      text1Style = _params$text1Style === void 0 ? initialOptions.text1Style : _params$text1Style,\n      _params$text2Style = params.text2Style,\n      text2Style = _params$text2Style === void 0 ? initialOptions.text2Style : _params$text2Style,\n      _params$position = params.position,\n      position = _params$position === void 0 ? initialOptions.position : _params$position,\n      _params$autoHide = params.autoHide,\n      autoHide = _params$autoHide === void 0 ? initialOptions.autoHide : _params$autoHide,\n      _params$visibilityTim = params.visibilityTime,\n      visibilityTime = _params$visibilityTim === void 0 ? initialOptions.visibilityTime : _params$visibilityTim,\n      _params$topOffset = params.topOffset,\n      topOffset = _params$topOffset === void 0 ? initialOptions.topOffset : _params$topOffset,\n      _params$bottomOffset = params.bottomOffset,\n      bottomOffset = _params$bottomOffset === void 0 ? initialOptions.bottomOffset : _params$bottomOffset,\n      _params$keyboardOffse = params.keyboardOffset,\n      keyboardOffset = _params$keyboardOffse === void 0 ? initialOptions.keyboardOffset : _params$keyboardOffse,\n      _params$onShow = params.onShow,\n      onShow = _params$onShow === void 0 ? initialOptions.onShow : _params$onShow,\n      _params$onHide = params.onHide,\n      onHide = _params$onHide === void 0 ? initialOptions.onHide : _params$onHide,\n      _params$onPress = params.onPress,\n      onPress = _params$onPress === void 0 ? initialOptions.onPress : _params$onPress,\n      _params$swipeable = params.swipeable,\n      swipeable = _params$swipeable === void 0 ? initialOptions.swipeable : _params$swipeable,\n      _params$props = params.props,\n      props = _params$props === void 0 ? initialOptions.props : _params$props;\n    setData({\n      text1: text1,\n      text2: text2\n    });\n    setOptions(mergeIfDefined(initialOptions, {\n      type: type,\n      text1Style: text1Style,\n      text2Style: text2Style,\n      position: position,\n      autoHide: autoHide,\n      visibilityTime: visibilityTime,\n      topOffset: topOffset,\n      bottomOffset: bottomOffset,\n      keyboardOffset: keyboardOffset,\n      onShow: onShow,\n      onHide: onHide,\n      onPress: onPress,\n      swipeable: swipeable,\n      props: props\n    }));\n    setIsVisible(true);\n    onShow();\n  }, [initialOptions, log]);\n  React.useEffect(function () {\n    var autoHide = options.autoHide;\n    if (isVisible) {\n      if (autoHide) {\n        startTimer();\n      } else {\n        clearTimer();\n      }\n    }\n  }, [isVisible, options, startTimer, clearTimer]);\n  return {\n    isVisible: isVisible,\n    data: data,\n    options: options,\n    show: show,\n    hide: hide\n  };\n}","map":{"version":3,"names":["React","useLogger","useTimeout","noop","mergeIfDefined","DEFAULT_DATA","text1","undefined","text2","DEFAULT_OPTIONS","type","text1Style","text2Style","position","autoHide","swipeable","visibilityTime","topOffset","bottomOffset","keyboardOffset","onShow","onHide","onPress","props","useToast","_ref","defaultOptions","_useLogger","log","_React$useState","useState","_React$useState2","_slicedToArray","isVisible","setIsVisible","_React$useState3","_React$useState4","data","setData","initialOptions","_React$useState5","_React$useState6","options","setOptions","onAutoHide","useCallback","_useTimeout","startTimer","clearTimer","hide","show","params","JSON","stringify","_params$text","_params$text2","_params$type","_params$text1Style","_params$text2Style","_params$position","_params$autoHide","_params$visibilityTim","_params$topOffset","_params$bottomOffset","_params$keyboardOffse","_params$onShow","_params$onHide","_params$onPress","_params$swipeable","_params$props","useEffect"],"sources":["C:/JsonMobile/frontend/node_modules/react-native-toast-message/lib/src/useToast.js"],"sourcesContent":["import React from 'react';\r\nimport { useLogger } from './contexts';\r\nimport { useTimeout } from './hooks';\r\nimport { noop } from './utils/func';\r\nimport { mergeIfDefined } from './utils/obj';\r\nexport const DEFAULT_DATA = {\r\n    text1: undefined,\r\n    text2: undefined\r\n};\r\nexport const DEFAULT_OPTIONS = {\r\n    type: 'success',\r\n    text1Style: null,\r\n    text2Style: null,\r\n    position: 'top',\r\n    autoHide: true,\r\n    swipeable: true,\r\n    visibilityTime: 4000,\r\n    topOffset: 40,\r\n    bottomOffset: 40,\r\n    keyboardOffset: 10,\r\n    onShow: noop,\r\n    onHide: noop,\r\n    onPress: noop,\r\n    props: {}\r\n};\r\nexport function useToast({ defaultOptions }) {\r\n    const { log } = useLogger();\r\n    const [isVisible, setIsVisible] = React.useState(false);\r\n    const [data, setData] = React.useState(DEFAULT_DATA);\r\n    const initialOptions = mergeIfDefined(DEFAULT_OPTIONS, defaultOptions);\r\n    const [options, setOptions] = React.useState(initialOptions);\r\n    const onAutoHide = React.useCallback(() => {\r\n        log('Auto hiding');\r\n        setIsVisible(false);\r\n        options.onHide();\r\n    }, [log, options]);\r\n    const { startTimer, clearTimer } = useTimeout(onAutoHide, options.visibilityTime);\r\n    const hide = React.useCallback(() => {\r\n        log('Hiding');\r\n        setIsVisible(false);\r\n        clearTimer();\r\n        options.onHide();\r\n    }, [clearTimer, log, options]);\r\n    const show = React.useCallback((params) => {\r\n        log(`Showing with params: ${JSON.stringify(params)}`);\r\n        const { text1 = DEFAULT_DATA.text1, text2 = DEFAULT_DATA.text2, type = initialOptions.type, text1Style = initialOptions.text1Style, text2Style = initialOptions.text2Style, position = initialOptions.position, autoHide = initialOptions.autoHide, visibilityTime = initialOptions.visibilityTime, topOffset = initialOptions.topOffset, bottomOffset = initialOptions.bottomOffset, keyboardOffset = initialOptions.keyboardOffset, onShow = initialOptions.onShow, onHide = initialOptions.onHide, onPress = initialOptions.onPress, swipeable = initialOptions.swipeable, props = initialOptions.props } = params;\r\n        setData({\r\n            text1,\r\n            text2\r\n        });\r\n        setOptions(mergeIfDefined(initialOptions, {\r\n            type,\r\n            text1Style,\r\n            text2Style,\r\n            position,\r\n            autoHide,\r\n            visibilityTime,\r\n            topOffset,\r\n            bottomOffset,\r\n            keyboardOffset,\r\n            onShow,\r\n            onHide,\r\n            onPress,\r\n            swipeable,\r\n            props\r\n        }));\r\n        // TODO: validate input\r\n        // TODO: use a queue when Toast is already visible\r\n        setIsVisible(true);\r\n        onShow();\r\n    }, [initialOptions, log]);\r\n    React.useEffect(() => {\r\n        const { autoHide } = options;\r\n        if (isVisible) {\r\n            if (autoHide) {\r\n                startTimer();\r\n            }\r\n            else {\r\n                clearTimer();\r\n            }\r\n        }\r\n    }, [isVisible, options, startTimer, clearTimer]);\r\n    return {\r\n        isVisible,\r\n        data,\r\n        options,\r\n        show,\r\n        hide\r\n    };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}